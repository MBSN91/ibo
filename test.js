(function(){var e,t=document.querySelector("script[data-domain]");if(!t)return e="No script tag found. Have you added the data-domain attribute?",void console.log("YCBM EMBED:"+e);var n=function(e){var t=["domain","flow","intent","content","showtitle"].reduce((t,n)=>(t[n]=e.getAttribute("data-"+n),t),{});["copyparameters","autoscroll"].forEach(n=>{e.hasAttribute("data-"+n)&&(t[n]=!0)});var n=e.getAttribute("data-selections");if(n)try{t.selections=JSON.parse(n)}catch(e){console.error("data-selections is not a valid JSON object, no selection will be made")}t.origin=e.src.replace("embed",t.domain).split("/").slice(0,3).join("/"),"cancel"!==t.flow&&"reschedule"!==t.flow&&(t.flow="create");return t}(t),a=function(e){var t=document.createElement("iframe");return t.src=function(e){var t=e.origin+"?embed=true";"all"===e.content?(t+="&contentMode=all","true"!==e.showtitle&&(t+="&showTitle=false")):"false"===e.showtitle&&(t+="&showTitle=false");e.copyparameters&&location.search&&(t+="&"+location.search.substring(1));e.intent&&(t+="&i="+e.intent);"cancel"===e.flow&&(t+="&o=c&ro=b");"reschedule"===e.flow&&(t+="&o=r&ro=b");e.selections&&(t+="&"+function(e){var t=[];e.appointmentTypeIds&&(Array.isArray(e.appointmentTypeIds)?e.appointmentTypeIds.forEach(e=>{t.push("appointmentTypeIds="+encodeURIComponent(e))}):console.error("appointmentTypeIds parameter must be an array"));["teamMemberId","startsAt","units","duration"].forEach((function(n){e[n]&&t.push(n+"="+encodeURIComponent(e[n]))})),e.form&&Object.keys(e.form).forEach((function(n){t.push(n+"="+encodeURIComponent(e.form[n]))}));return t.join("&")}(e.selections));return t}(e),t.style="width:100%;min-height:300px;border:0px;background-color:transparent",t.frameBorder="0",t.allowTransparency="true",t.allow="payment",t}(n);t.replaceWith(a),function(e,t,n){window.addEventListener&&window.addEventListener("message",(function(e){if(e.source===t.contentWindow){const{message:a}=e.data;if(!a)return;const{action:r,data:i}=a;"resize"===r&&(t.style.height=i+"px"),n&&"locationChange"===r&&t.scrollIntoView()}}),!1)}(n.origin,a,n.autoscroll)})();